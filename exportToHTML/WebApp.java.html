<html>
<head>
    <title>MainApp.java</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <style type="text/css">
        .s0 {
            color: #647f94;
        }

        .s1 {
            color: #a8afbe;
        }

        .s2 {
            color: #cc7832;
        }

        .s3 {
            color: #75aa5f;
        }

        .s4 {
            color: #6897bb;
        }

        .s5 {
            color: #808080;
        }

        .ls0 {
            height: 1px;
            border-width: 0;
            color: #4d4d4d;
            background-color: #4d4d4d
        }
    </style>
</head>
<body bgcolor="#161c2d">
<table BGCOLOR="#606060" CELLPADDING=5 CELLSPACING=0 COLS=1 WIDTH="100%">
    <tr>
        <td>
            <center>
                <font color="#000000" face="Arial, Helvetica">
                    MainApp.java</font>
            </center>
        </td>
    </tr>
</table>
<pre><span class="s0">/* 
 * Copyright (c) 2020 Lorenzo Romio. All Right Reserved. 
 */</span>

<span class="s2">import </span><span class="s1">javax.imageio.ImageIO</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.security.auth.login.AccountException</span><span
            class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.security.auth.login.AccountNotFoundException</span><span
            class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.security.sasl.AuthenticationException</span><span
            class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.swing.*</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">javax.swing.plaf.FontUIResource</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.awt.*</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.awt.event.*</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.awt.font.TextAttribute</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.io.File</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.io.IOException</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.net.URL</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.security.NoSuchAlgorithmException</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.sql.SQLException</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.text.DecimalFormat</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.text.SimpleDateFormat</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.ArrayList</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.Arrays</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.Locale</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.Map</span><span class="s2">;</span>
<span class="s2">import </span><span class="s1">java.util.concurrent.TimeoutException</span><span class="s2">;</span>

<span class="s1">@SuppressWarnings(</span><span class="s3">&quot;SuspiciousNameCombination&quot;</span><span class="s1">)</span>
<span class="s2">public class </span><span class="s1">MainApp </span><span class="s2">extends </span><span class="s1">JFrame {</span>
    <span class="s2">private final </span><span class="s1">String showPswIconPath = </span><span class="s3">&quot;icons/showpsw.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String hidePswIconPath = </span><span class="s3">&quot;icons/hidepsw.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String refreshIconPath = </span><span class="s3">&quot;icons/refresh.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String bankIconPath = </span><span class="s3">&quot;icons/bank.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String depositoIconPath = </span><span class="s3">&quot;icons/deposito2.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String prelievoIconPath = </span><span class="s3">&quot;icons/prelievo2.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String bonificoInIconPath = </span><span class="s3">&quot;icons/bonificoIn2.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String bonificoOutIconPath = </span><span class="s3">&quot;icons/bonificoOut2.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String nextIconPath = </span><span class="s3">&quot;icons/next.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">String prevIconPath = </span><span class="s3">&quot;icons/prev.png&quot;</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">width = </span><span class="s4">600</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">height = </span><span class="s4">600</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">fldWidth = </span><span class="s4">190</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">fldHeight = </span><span class="s4">30</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">BTNWidth = </span><span class="s4">100</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">BTNHeight = </span><span class="s4">30</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">lblWidth = </span><span class="s4">100</span><span
            class="s2">;</span>
    <span class="s2">private final int </span><span class="s1">lblHeight = </span><span class="s4">30</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">DecimalFormat euro = </span><span class="s2">new </span><span
            class="s1">DecimalFormat(</span><span class="s3">&quot;0.00 â‚¬&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
    <span class="s2">private final </span><span class="s1">SimpleDateFormat sdf = </span><span
            class="s2">new </span><span class="s1">SimpleDateFormat(</span><span class="s3">&quot;dd/MM/yyyy - HH:mm:ss&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
    <span class="s2">private </span><span class="s1">Session session</span><span class="s2">;</span>
    <span class="s2">private </span><span class="s1">String user</span><span class="s2">;</span>
    <span class="s2">private </span><span class="s1">String psw</span><span class="s2">;</span>

<hr class="ls0">    <span class="s2">public </span><span class="s1">MainApp() {</span>
        <span class="s2">new </span><span class="s1">MainApp(</span><span class="s3">&quot;&quot;</span><span class="s2">, </span><span
            class="s3">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span>
    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">public </span><span class="s1">MainApp(String user</span><span
            class="s2">, </span><span class="s1">String psw) {</span>
        <span class="s2">this</span><span class="s1">.user = user</span><span class="s2">;</span>
        <span class="s2">this</span><span class="s1">.psw = psw</span><span class="s2">;</span>
        <span class="s1">setSize(width</span><span class="s2">, </span><span class="s1">height)</span><span
            class="s2">;</span>
        <span class="s1">setResizable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE)</span><span class="s2">;</span>
        <span class="s1">setLayout(</span><span class="s2">null</span><span class="s1">)</span><span class="s2">;</span>


        <span class="s1">UIManager.put(</span><span class="s3">&quot;Label.font&quot;</span><span
            class="s2">, new </span><span class="s1">FontUIResource(</span><span class="s2">new </span><span class="s1">Font(</span><span
            class="s3">&quot;Dialog&quot;</span><span class="s2">, </span><span class="s1">Font.PLAIN</span><span
            class="s2">, </span><span class="s4">15</span><span class="s1">)))</span><span class="s2">;</span>
        <span class="s1">UIManager.put(</span><span class="s3">&quot;Button.font&quot;</span><span
            class="s2">, new </span><span class="s1">FontUIResource(</span><span class="s2">new </span><span class="s1">Font(</span><span
            class="s3">&quot;Verdana&quot;</span><span class="s2">, </span><span class="s1">Font.PLAIN</span><span
            class="s2">, </span><span class="s4">15</span><span class="s1">)))</span><span class="s2">;</span>
        <span class="s1">UIManager.put(</span><span class="s3">&quot;TextField.font&quot;</span><span
            class="s2">, new </span><span class="s1">FontUIResource(</span><span class="s2">new </span><span class="s1">Font(</span><span
            class="s3">&quot;Dialog&quot;</span><span class="s2">, </span><span class="s1">Font.PLAIN</span><span
            class="s2">, </span><span class="s4">14</span><span class="s1">)))</span><span class="s2">;</span>
        <span class="s1">UIManager.put(</span><span class="s3">&quot;PasswordField.font&quot;</span><span class="s2">, new </span><span
            class="s1">FontUIResource(</span><span class="s2">new </span><span class="s1">Font(</span><span class="s3">&quot;Dialog&quot;</span><span
            class="s2">, </span><span class="s1">Font.PLAIN</span><span class="s2">, </span><span
            class="s4">15</span><span class="s1">)))</span><span class="s2">;</span>
        <span class="s1">UIManager.put(</span><span class="s3">&quot;Button.margin&quot;</span><span
            class="s2">, new </span><span class="s1">Insets(</span><span class="s4">0</span><span
            class="s2">, </span><span class="s4">0</span><span class="s2">, </span><span class="s4">0</span><span
            class="s2">, </span><span class="s4">0</span><span class="s1">))</span><span class="s2">;</span>


<span class="s5">//        try {</span>
<span class="s5">//            setIconImage(ImageIO.read(new File(bankIconPath)));</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

        <span class="s1">setIconImage(Toolkit.getDefaultToolkit().getImage(getClass().getResource(bankIconPath)))</span><span
            class="s2">;</span>

        <span class="s1">loginPage()</span><span class="s2">;                                                    </span><span
            class="s5">//CHIAMA LA PAGINA DI LOGIN</span>

        <span class="s1">addWindowListener(</span><span class="s2">new </span><span class="s1">WindowListener() {</span>


            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">windowClosing(WindowEvent e) {                  </span><span
            class="s5">// CHIUDE LA CONNESSIONE PRIMA DI CHIUDERE LA FINESTRA</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">DBConnect.close()</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                    <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span
            class="s1">windowActivated(WindowEvent e) {            </span><span class="s5">//CONTROLLA LA VALIDITA' DELLA SESSIONE QUANDO LA FINESTRA SI RIATTIVA</span>
                <span class="s2">if </span><span class="s1">(session != </span><span class="s2">null</span><span
            class="s1">) </span><span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">session.isValid()</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                    <span class="s1">sessionExpired()</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span
            class="s1">windowDeactivated(WindowEvent e) {          </span><span class="s5">//CHIUDE LA CONNESSIONE QUANDO LA FINESTRA SI DISATTIVA</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">DBConnect.close()</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                    <span class="s5">//IGNORE</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">windowOpened(WindowEvent e) {</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">windowClosed(WindowEvent e) {</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">windowIconified(WindowEvent e) {</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">windowDeiconified(WindowEvent e) {</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>
    <span class="s1">}</span>

<span class="s5">//    Pages</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">loginPage() {</span>
        <span class="s2">try </span><span class="s1">{</span>
            <span class="s1">DBConnect.close()</span><span class="s2">;              </span><span class="s5">//CHIUDE LA CONNESSIONE PRIMA DI EFFETTUARE UN NUOVO LOGIN</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
            <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
        <span class="s1">}</span>

        <span class="s1">session = </span><span class="s2">null;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>

        <span class="s1">JPanel loginPanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;LoginPage - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(loginPanel)</span><span class="s2">;</span>
        <span class="s1">setLayout(</span><span class="s2">null</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">JLabel userLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Username&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField userFLD = </span><span class="s2">new </span><span
            class="s1">JTextField()</span><span class="s2">;</span>
        <span class="s1">JLabel pswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Password&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField pswFLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>

        <span class="s1">JButton loginBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Login&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton signupBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Sign Up&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton exitBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Exit&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(loginBTN)</span><span class="s2">;               </span><span
            class="s5">//SELEZIONA IL PULSANTE DI LOGIN</span>


        <span class="s1">userLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">20</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">userFLD.setBounds(userLBL.getX() + userLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">userLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">pswLBL.setBounds(userLBL.getX()</span><span class="s2">, </span><span class="s1">userLBL.getY() + userLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">pswFLD.setBounds(pswLBL.getX() + pswLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">pswLBL.getY()</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>

        <span class="s1">loginBTN.setBounds(userLBL.getX()</span><span class="s2">, </span><span class="s1">pswFLD.getY() + </span><span
            class="s4">40</span><span class="s2">, </span><span class="s4">80</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">signupBTN.setBounds(loginBTN.getX() + loginBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">loginBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">exitBTN.setBounds(signupBTN.getX() + signupBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">loginBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s1">loginBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">signupBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">exitBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">SwingUtilities.invokeLater(userFLD::requestFocus)</span><span class="s2">;       </span><span
            class="s5">//FOCUS SUL CAMPO USERNAME</span>

        <span class="s1">add(userLBL)</span><span class="s2">;</span>
        <span class="s1">add(userFLD)</span><span class="s2">;</span>
        <span class="s1">add(pswLBL)</span><span class="s2">;</span>
        <span class="s1">add(pswFLD)</span><span class="s2">;</span>
        <span class="s1">add(loginBTN)</span><span class="s2">;</span>
        <span class="s1">add(signupBTN)</span><span class="s2">;</span>
        <span class="s1">add(exitBTN)</span><span class="s2">;</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">userFLD.setText(user)</span><span class="s2">;</span>
        <span class="s1">pswFLD.setText(psw)</span><span class="s2">;</span>


        <span class="s1">loginBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">if </span><span class="s1">(userFLD.getText().isEmpty())</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Username can't be empty&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s2">else </span><span class="s1">{</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">session = Bank.login(userFLD.getText()</span><span class="s2">, </span><span
            class="s1">String.valueOf(pswFLD.getPassword()))</span><span class="s2">;</span>

                    <span class="s1">home()</span><span class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Logged in Succesfully as &quot; </span><span class="s1">+ session.getNome() + </span><span
            class="s3">&quot; &quot; </span><span class="s1">+ session.getCognome())</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AccountNotFoundException ex) {</span>
                    <span class="s1">userFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AuthenticationException ex) {</span>
                    <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                    <span class="s2">switch </span><span class="s1">(ex.getSQLState()) {</span>
                        <span class="s2">case </span><span class="s3">&quot;28000&quot;</span><span class="s1">:</span>
                            <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Invalid Credential to Database&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                            <span class="s2">break;</span>
                        <span class="s2">case </span><span class="s3">&quot;08S01&quot;</span><span class="s1">:</span>
                            <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Database Unreachable&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                            <span class="s2">break;</span>
                        <span class="s2">default</span><span class="s1">:</span>
                            <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
                            <span class="s2">break;</span>
                    <span class="s1">}</span>

                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(NoSuchAlgorithmException ex) {</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                    <span class="s1">sessionExpired()</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">signupBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;register BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">signupPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">exitBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Exit BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">int </span><span
            class="s1">choice = JOptionPane.showConfirmDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Do you want to exit?&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s2">if </span><span class="s1">(choice == </span><span class="s4">0</span><span
            class="s1">) {</span>
                <span class="s1">dispose()</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>


    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">signupPage() {</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>
        <span class="s1">JPanel signupPanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;SignupPage - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(signupPanel)</span><span class="s2">;</span>

        <span class="s1">JLabel nomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Nome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField nomeFLD = </span><span class="s2">new </span><span
            class="s1">JTextField()</span><span class="s2">;</span>
        <span class="s1">JLabel cognomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Cognome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField cognomeFLD = </span><span class="s2">new </span><span class="s1">JTextField()</span><span
            class="s2">;</span>
        <span class="s1">JLabel psw1LBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Password&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField psw1FLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>
        <span class="s1">JLabel psw2LBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Confirm&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField psw2FLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>
        <span class="s1">JLabel checkpswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Invalid Password&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton showHideBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>


        <span class="s1">JButton signupBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Signup&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton backBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Back&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton exitBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Exit&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(signupBTN)</span><span class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//            showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException e) {</span>
<span class="s5">//            e.printStackTrace();</span>
<span class="s5">//        }</span>


        <span class="s1">nomeLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">20</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">nomeFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">nomeLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">nomeFLD.getY() + nomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeFLD.setBounds(nomeFLD.getX()</span><span class="s2">, </span><span class="s1">cognomeLBL.getY()</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">psw1LBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">cognomeLBL.getY() + cognomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">psw1FLD.setBounds(nomeFLD.getX()</span><span class="s2">, </span><span class="s1">psw1LBL.getY()</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">psw2LBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">psw1LBL.getY() + psw1LBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">psw2FLD.setBounds(nomeFLD.getX()</span><span class="s2">, </span><span class="s1">psw2LBL.getY()</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">showHideBTN.setBounds(psw1FLD.getX() + psw1FLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">psw1FLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setBounds(showHideBTN.getX() + showHideBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">psw1FLD.getY()</span><span
            class="s2">, </span><span class="s1">lblWidth * </span><span class="s4">2</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">checkpswLBL.setForeground(Color.red)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR))</span><span
            class="s2">;</span>

        <span class="s1">signupBTN.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">psw2LBL.getY() + psw2LBL.getHeight() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">backBTN.setBounds(signupBTN.getX() + signupBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">signupBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">exitBTN.setBounds(backBTN.getX() + backBTN.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">backBTN.getY()</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s1">showHideBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">signupBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">backBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">exitBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">showHideBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>


        <span class="s1">SwingUtilities.invokeLater(nomeFLD::requestFocus)</span><span class="s2">;</span>

<span class="s5">//        URL iconUrl = this.getClass().getResource(hidePswIconPath);</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
<span class="s5">//        Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//        showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

        <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span
            class="s1">hidePswIconPath)</span><span class="s2">;</span>


        <span class="s1">add(nomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(nomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(cognomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(cognomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(psw1LBL)</span><span class="s2">;</span>
        <span class="s1">add(psw1FLD)</span><span class="s2">;</span>
        <span class="s1">add(psw2LBL)</span><span class="s2">;</span>
        <span class="s1">add(psw2FLD)</span><span class="s2">;</span>
        <span class="s1">add(signupBTN)</span><span class="s2">;</span>
        <span class="s1">add(exitBTN)</span><span class="s2">;</span>
        <span class="s1">add(backBTN)</span><span class="s2">;</span>
        <span class="s1">add(checkpswLBL)</span><span class="s2">;</span>
        <span class="s1">add(showHideBTN)</span><span class="s2">;</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">JOptionPane pswInvalid = </span><span class="s2">new </span><span
            class="s1">JOptionPane()</span><span class="s2">;</span>

        <span class="s1">checkpswLBL.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>

            <span class="s2">final </span><span class="s1">Font font = checkpswLBL.getFont()</span><span
            class="s2">;</span>
            <span class="s2">final </span><span class="s1">Map attributes = font.getAttributes()</span><span class="s2">;</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">pswInvalid.getMessage())</span><span class="s2">;</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>
                <span class="s1">attributes.put(TextAttribute.UNDERLINE</span><span class="s2">, </span><span
            class="s1">TextAttribute.UNDERLINE_ON)</span><span class="s2">; </span><span class="s5">//COSTANTE UNDERLINE_ON =_0</span>
                <span class="s1">checkpswLBL.setFont(font.deriveFont(attributes))</span><span class="s2">;</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

                <span class="s1">attributes.put(TextAttribute.UNDERLINE</span><span class="s2">, </span><span
            class="s1">-</span><span class="s4">1</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//-1</span>
                <span class="s1">checkpswLBL.setFont(font.deriveFont(attributes))</span><span class="s2">;</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">psw1FLD.addKeyListener(</span><span class="s2">new </span><span
            class="s1">KeyListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyTyped(KeyEvent e) {</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyPressed(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyReleased(KeyEvent e) {</span>
                <span class="s2">if </span><span class="s1">(String.valueOf(psw1FLD.getPassword()).isEmpty()) {</span>
                    <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s2">try </span><span class="s1">{</span>
                        <span class="s1">Account.checkValidPassword(String.valueOf(psw1FLD.getPassword()))</span><span
            class="s2">;</span>
                        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IllegalArgumentException ex) {</span>
                        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                        <span class="s1">pswInvalid.setMessage(ex.getMessage())</span><span class="s2">;</span>
                    <span class="s1">}</span>
                <span class="s1">}</span>

                <span class="s2">if </span><span class="s1">(!checkpswLBL.isVisible() || String.valueOf(psw1FLD.getPassword()).isEmpty()) {</span>
                    <span class="s1">psw1FLD.setForeground(</span><span class="s2">new </span><span class="s1">JPasswordField().getForeground())</span><span
            class="s2">;</span>
                    <span class="s1">psw1FLD.setBorder(</span><span class="s2">new </span><span class="s1">JPasswordField().getBorder())</span><span
            class="s2">;</span>

                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">psw1FLD.setForeground(Color.red)</span><span class="s2">;</span>
                    <span class="s1">psw1FLD.setBorder(BorderFactory.createLineBorder(Color.red))</span><span
            class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">psw2FLD.addKeyListener(</span><span class="s2">new </span><span
            class="s1">KeyListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyTyped(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyPressed(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyReleased(KeyEvent e) {</span>
                <span class="s2">if </span><span class="s1">(Arrays.equals(psw1FLD.getPassword()</span><span class="s2">, </span><span
            class="s1">psw2FLD.getPassword()) || String.valueOf(psw2FLD.getPassword()).isEmpty()) {</span>
                    <span class="s1">psw2FLD.setForeground(psw1FLD.getForeground())</span><span class="s2">;</span>
                    <span class="s1">psw2FLD.setBorder(psw1FLD.getBorder())</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">psw2FLD.setForeground(Color.red)</span><span class="s2">;</span>
                    <span class="s1">psw2FLD.setBorder(BorderFactory.createLineBorder(Color.red))</span><span
            class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">showHideBTN.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>
                <span class="s1">psw1FLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u0000</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
<span class="s5">//                try {</span>
<span class="s5">//                    Image icon = ImageIO.read(new File(showPswIconPath));</span>
<span class="s5">//                    showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//                } catch (IOException ex) {</span>
<span class="s5">//                    ex.printStackTrace();</span>
<span class="s5">//                }</span>


<span class="s5">//                URL iconUrl = this.getClass().getResource(showPswIconPath);</span>
<span class="s5">//                System.out.println(iconUrl.toString());</span>
<span class="s5">//                Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//                showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

                <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span class="s1">showPswIconPath)</span><span
            class="s2">;</span>


            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>
                <span class="s1">psw1FLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u2022</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//Dot Echo Char</span>
<span class="s5">//                try {</span>
<span class="s5">//                    Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//                    showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//                } catch (IOException ex) {</span>
<span class="s5">//                    ex.printStackTrace();</span>
<span class="s5">//                }</span>

<span class="s5">//                URL iconUrl = this.getClass().getResource(hidePswIconPath);</span>
<span class="s5">//                System.out.println(iconUrl.toString());</span>
<span class="s5">//                Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//                showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

                <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span class="s1">hidePswIconPath)</span><span
            class="s2">;</span>


            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">signupBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;signup BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>

            <span class="s2">if </span><span class="s1">(nomeFLD.getText().isEmpty() || cognomeFLD.getText().isEmpty() || String.valueOf(psw1FLD.getPassword()).isEmpty() || String.valueOf(psw2FLD.getPassword()).isEmpty()) {</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Tutti i campi devono essere compilati&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
            <span class="s1">} </span><span class="s2">else if </span><span class="s1">(String.valueOf(psw1FLD.getPassword()).equals(String.valueOf(psw2FLD.getPassword()))) {</span>
                <span class="s2">int </span><span
            class="s1">choice = JOptionPane.showConfirmDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Do you want to Sign Up?&quot;</span><span class="s1">)</span><span class="s2">;</span>
                <span class="s2">if </span><span class="s1">(choice == </span><span class="s4">0</span><span class="s1">) {</span>
                    <span class="s2">try </span><span class="s1">{</span>
                        <span class="s1">Bank.addAccount(</span><span class="s2">new </span><span class="s1">Account(nomeFLD.getText()</span><span
            class="s2">, </span><span class="s1">cognomeFLD.getText()</span><span class="s2">, </span><span class="s1">String.valueOf(psw1FLD.getPassword())))</span><span
            class="s2">;</span>
                        <span class="s1">loginPage()</span><span class="s2">;</span>

                    <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AccountException ex) {</span>
                        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>
                        <span class="s1">psw1FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                        <span class="s1">psw2FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>

                    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IllegalArgumentException ex) {</span>
                        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>
                        <span class="s1">nomeFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                        <span class="s1">cognomeFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                        <span class="s1">psw1FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                        <span class="s1">psw2FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>

                    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(NoSuchAlgorithmException ex) {</span>
                        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>

                    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                        <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>

                    <span class="s1">}</span>

                <span class="s1">}</span>

            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s1">System.out.println(</span><span
            class="s3">&quot;Password non corrette&quot;</span><span class="s1">)</span><span class="s2">;</span>
                <span class="s1">psw1FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">psw2FLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Password non corrette&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">backBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Back BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">exitBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Exit BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">int </span><span
            class="s1">choice = JOptionPane.showConfirmDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Do you want to exit?&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s2">if </span><span class="s1">(choice == </span><span class="s4">0</span><span
            class="s1">) {</span>
                <span class="s1">dispose()</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>


    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">home() </span><span
            class="s2">throws </span><span class="s1">SQLException</span><span class="s2">, </span><span class="s1">TimeoutException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>
        <span class="s1">JPanel homePanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;Home - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(homePanel)</span><span class="s2">;</span>
        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">JLabel nomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Nome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField nomeFLD = </span><span class="s2">new </span><span class="s1">JTextField(session.getNome())</span><span
            class="s2">;</span>
        <span class="s1">JLabel cognomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Cognome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField cognomeFLD = </span><span class="s2">new </span><span class="s1">JTextField(session.getCognome())</span><span
            class="s2">;</span>
        <span class="s1">JLabel ibanLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;IBAN&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField ibanFLD = </span><span class="s2">new </span><span class="s1">JTextField(session.getIban())</span><span
            class="s2">;</span>
        <span class="s1">JLabel balanceLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Saldo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField balanceFLD = </span><span class="s2">new </span><span class="s1">JPasswordField(euro.format(session.getSaldo()))</span><span
            class="s2">;</span>
        <span class="s1">JButton showHideBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JButton refreshBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JLabel incomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Entrate&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JLabel outcomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Uscite&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField incomeFLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>
        <span class="s1">JPasswordField outcomeFLD = </span><span class="s2">new </span><span class="s1">JPasswordField()</span><span
            class="s2">;</span>

        <span class="s1">balanceFLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u0000</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">incomeFLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u0000</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">outcomeFLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u0000</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">;</span>

<span class="s5">//        JButton backBTN = new JButton(&quot;Back&quot;);</span>
<span class="s5">//        JButton exitBTN = new JButton(&quot;Exit&quot;);</span>
        <span class="s1">JButton bonificoBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Bonifico&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton depositBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Deposito&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton prelievoBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Prelievo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton changePswBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Change Psw&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton removeBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Remove&quot;</span><span class="s1">)</span><span class="s2">;</span>


        <span class="s1">nomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">ibanFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balanceFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">incomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">outcomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">nomeLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">20</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">nomeFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">nomeLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">refreshBTN.setBounds(nomeFLD.getX() + nomeFLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">nomeFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">nomeLBL.getY() + nomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span
            class="s1">nomeFLD.getY() + nomeFLD.getHeight() + </span><span class="s4">5</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">ibanLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">cognomeLBL.getY() + cognomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">ibanFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">cognomeFLD.getY() + cognomeFLD.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">balanceLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">ibanLBL.getY() + ibanLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">balanceFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span
            class="s1">ibanFLD.getY() + ibanFLD.getHeight() + </span><span class="s4">5</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">showHideBTN.setBounds(balanceFLD.getX() - (BTNHeight + </span><span class="s4">5</span><span
            class="s1">)</span><span class="s2">, </span><span class="s1">balanceFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">incomeLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">balanceLBL.getY() + balanceLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">incomeFLD.setBounds(incomeLBL.getX() + incomeLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">incomeLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">outcomeLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">incomeLBL.getY() + incomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">outcomeFLD.setBounds(outcomeLBL.getX() + outcomeLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">outcomeLBL.getY()</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>

        <span class="s1">bonificoBTN.setBounds(</span><span class="s4">350</span><span class="s2">, </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">depositBTN.setBounds(bonificoBTN.getX()</span><span class="s2">, </span><span class="s1">bonificoBTN.getY() + bonificoBTN.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">prelievoBTN.setBounds(bonificoBTN.getX()</span><span class="s2">, </span><span class="s1">depositBTN.getY() + depositBTN.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s1">changePswBTN.setBounds(bonificoBTN.getX() + bonificoBTN.getWidth() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">bonificoBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(changePswBTN.getX()</span><span class="s2">, </span><span class="s1">changePswBTN.getY() + changePswBTN.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">removeBTN.setBounds(changePswBTN.getX()</span><span class="s2">, </span><span class="s1">logoutBTN.getY() + logoutBTN.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s2">if </span><span class="s1">(session.getUsername().equals(</span><span class="s3">&quot;lorenzo.romio&quot;</span><span
            class="s1">)) {</span>
            <span class="s1">JButton eraseBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Erase&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">eraseBTN.setName(</span><span class="s3">&quot;Erase&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">eraseBTN.setBounds(removeBTN.getX()</span><span class="s2">, </span><span class="s1">removeBTN.getY() + removeBTN.getHeight() + </span><span
            class="s4">15</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
            <span class="s1">add(eraseBTN)</span><span class="s2">;</span>
            <span class="s1">eraseBTN.addActionListener(e -&gt; {</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">DBConnect.eraseBalance()</span><span class="s2">;</span>
                    <span class="s1">home()</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                    <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                    <span class="s1">sessionExpired()</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">})</span><span class="s2">;</span>

            <span class="s1">JButton deleteAll = </span><span class="s2">new </span><span
            class="s1">JButton(</span><span class="s3">&quot;deleteAll&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
            <span class="s1">deleteAll.setName(</span><span class="s3">&quot;deleteAll&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">deleteAll.setBounds(eraseBTN.getX()</span><span class="s2">, </span><span class="s1">eraseBTN.getY() + eraseBTN.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
            <span class="s1">add(deleteAll)</span><span class="s2">;</span>
            <span class="s1">deleteAll.addActionListener(e -&gt; {</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
                    <span class="s1">DBConnect.deleteAll()</span><span class="s2">;</span>
                    <span class="s1">loginPage()</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                    <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                    <span class="s1">sessionExpired()</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">})</span><span class="s2">;</span>
        <span class="s1">}</span>


        <span class="s1">add(nomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(nomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(cognomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(cognomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(ibanLBL)</span><span class="s2">;</span>
        <span class="s1">add(ibanFLD)</span><span class="s2">;</span>
        <span class="s1">add(balanceLBL)</span><span class="s2">;</span>
        <span class="s1">add(balanceFLD)</span><span class="s2">;</span>
        <span class="s1">add(incomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(incomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(outcomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(outcomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(showHideBTN)</span><span class="s2">;</span>
        <span class="s1">add(refreshBTN)</span><span class="s2">;</span>
        <span class="s1">add(bonificoBTN)</span><span class="s2">;</span>
        <span class="s1">add(depositBTN)</span><span class="s2">;</span>
        <span class="s1">add(prelievoBTN)</span><span class="s2">;</span>
        <span class="s1">add(changePswBTN)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(removeBTN)</span><span class="s2">;</span>

        <span class="s1">ArrayList&lt;Transaction&gt; transactions = </span><span class="s2">null;</span>
        <span class="s2">try </span><span class="s1">{</span>
            <span class="s1">transactions = session.showTransactions()</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException e) {</span>
            <span class="s1">sessionExpired()</span><span class="s2">;</span>
        <span class="s1">}</span>

        <span class="s2">int </span><span class="s1">num = (transactions != </span><span class="s2">null</span><span
            class="s1">) ? transactions.size() : </span><span class="s4">0</span><span class="s2">;</span>

        <span class="s1">JTextArea textArea = </span><span class="s2">new </span><span
            class="s1">JTextArea((</span><span class="s2">int</span><span class="s1">) (num * </span><span class="s4">3.8 </span><span
            class="s1">+ </span><span class="s4">1</span><span class="s1">)</span><span class="s2">, </span><span
            class="s4">1</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">textArea.setEnabled(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">textArea.setBackground(Color.gray.brighter())</span><span class="s2">;</span>

        <span class="s1">JScrollPane scrollPane = </span><span class="s2">new </span><span class="s1">JScrollPane(textArea</span><span
            class="s2">, </span><span class="s1">JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED</span><span
            class="s2">, </span><span class="s1">JScrollPane.HORIZONTAL_SCROLLBAR_NEVER)</span><span class="s2">;</span>
        <span class="s1">scrollPane.setVisible(num != </span><span class="s4">0</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">scrollPane.setBounds(outcomeLBL.getX()</span><span class="s2">, </span><span class="s1">outcomeLBL.getY() + outcomeLBL.getHeight() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s4">565</span><span class="s2">, </span><span
            class="s4">310</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(scrollPane)</span><span class="s2">;</span>

        <span class="s1">Locale.setDefault(Locale.ITALIAN)</span><span class="s2">;</span>

        <span class="s1">String iconpath = </span><span class="s2">null;</span>
        <span class="s1">Transaction x</span><span class="s2">;</span>
        <span class="s1">JLabel iconType</span><span class="s2">;</span>
        <span class="s1">JLabel type</span><span class="s2">;</span>
        <span class="s1">JLabel date</span><span class="s2">;</span>
        <span class="s1">JLabel ibanFrom</span><span class="s2">;</span>
        <span class="s1">JLabel ibanDest</span><span class="s2">;</span>
        <span class="s1">JLabel userFrom</span><span class="s2">;</span>
        <span class="s1">JLabel userDest</span><span class="s2">;</span>
        <span class="s1">JLabel amount</span><span class="s2">;</span>
        <span class="s1">String sgn = </span><span class="s3">&quot;&quot;</span><span class="s2">;</span>

        <span class="s2">for </span><span class="s1">(</span><span class="s2">int </span><span
            class="s1">i = </span><span class="s4">0</span><span class="s2">; </span><span
            class="s1">i &lt; num</span><span class="s2">; </span><span class="s1">i++) {</span>
            <span class="s1">x = transactions.get(i)</span><span class="s2">;</span>
            <span class="s1">iconType = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">type = </span><span class="s2">new </span><span class="s1">JLabel(x.getType().toUpperCase())</span><span
            class="s2">;</span>
            <span class="s1">date = </span><span class="s2">new </span><span class="s1">JLabel()</span><span class="s2">;</span>
            <span class="s1">ibanFrom = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">ibanDest = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">userFrom = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">userDest = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">amount = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>


            <span class="s2">if </span><span class="s1">(x.getType().equals(</span><span
            class="s3">&quot;bonifico&quot;</span><span class="s1">)) {</span>

                <span class="s2">if </span><span class="s1">(x.getIbanFrom().equals(session.getIban())) {</span>
                    <span class="s1">iconpath = bonificoOutIconPath</span><span class="s2">;</span>
                    <span class="s1">sgn = </span><span class="s3">&quot;- &quot;</span><span class="s2">;</span>
                    <span class="s1">amount.setForeground(Color.red)</span><span class="s2">;</span>
                    <span class="s1">ibanDest.setText(</span><span class="s3">&quot;IBAN &quot; </span><span class="s1">+ x.getIbanDest())</span><span
            class="s2">;</span>
                    <span class="s1">userDest.setText(</span><span class="s3">&quot;BONIFICO â–º &quot; </span><span
            class="s1">+ x.getUsernameDest().toUpperCase().replace(</span><span class="s3">&quot;.&quot;</span><span
            class="s2">, </span><span class="s3">&quot; &quot;</span><span class="s1">))</span><span class="s2">;</span>
                    <span class="s1">textArea.add(ibanDest)</span><span class="s2">;</span>
                    <span class="s1">textArea.add(userDest)</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">iconpath = bonificoInIconPath</span><span class="s2">;</span>
                    <span class="s1">sgn = </span><span class="s3">&quot;+ &quot;</span><span class="s2">;</span>
                    <span class="s1">amount.setForeground(Color.green.darker())</span><span class="s2">;</span>
                    <span class="s1">ibanFrom.setText(</span><span class="s3">&quot;IBAN &quot; </span><span class="s1">+ x.getIbanFrom())</span><span
            class="s2">;</span>
                    <span class="s1">userFrom.setText(</span><span class="s3">&quot;BONIFICO â—„ &quot; </span><span
            class="s1">+ x.getUsernameFrom().toUpperCase().replace(</span><span class="s3">&quot;.&quot;</span><span
            class="s2">, </span><span class="s3">&quot; &quot;</span><span class="s1">))</span><span class="s2">;</span>
                    <span class="s1">textArea.add(ibanFrom)</span><span class="s2">;</span>
                    <span class="s1">textArea.add(userFrom)</span><span class="s2">;</span>
                <span class="s1">}</span>


            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s1">textArea.add(type)</span><span class="s2">;</span>
                <span class="s2">switch </span><span class="s1">(x.getType()) {</span>
                    <span class="s2">case </span><span class="s3">&quot;deposito&quot;</span><span class="s1">:</span>
                        <span class="s1">iconpath = depositoIconPath</span><span class="s2">;</span>
                        <span class="s1">sgn = </span><span class="s3">&quot;+ &quot;</span><span class="s2">;</span>
                        <span class="s1">amount.setForeground(Color.green.darker())</span><span class="s2">;</span>
                        <span class="s2">break;</span>
                    <span class="s2">case </span><span class="s3">&quot;prelievo&quot;</span><span class="s1">:</span>
                        <span class="s1">iconpath = prelievoIconPath</span><span class="s2">;</span>
                        <span class="s1">sgn = </span><span class="s3">&quot;- &quot;</span><span class="s2">;</span>
                        <span class="s1">amount.setForeground(Color.red)</span><span class="s2">;</span>
                        <span class="s2">break;</span>
                    <span class="s2">default</span><span class="s1">:</span>
                        <span class="s2">break;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">amount.setText(sgn + euro.format(x.getAmount()))</span><span class="s2">;</span>
            <span class="s1">date.setText(sdf.format(x.getDate()))</span><span class="s2">;</span>
<span class="s5">//            ibanDest.setText(x.getIbanDest());</span>
<span class="s5">//            ibanFrom.setText(x.getIbanFrom());</span>
<span class="s5">//            userFrom.setText(x.getUsernameFrom());</span>
<span class="s5">//            userDest.setText(x.getUsernameDest());</span>

            <span class="s1">iconType.setBounds(</span><span class="s4">5</span><span class="s2">, </span><span
            class="s4">5 </span><span class="s1">+ </span><span class="s4">60 </span><span class="s1">* i</span><span
            class="s2">, </span><span class="s4">50</span><span class="s2">, </span><span class="s4">50</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">iconType.setForeground(Color.red)</span><span class="s2">;</span>
<span class="s5">//            iconType.setBorder(BorderFactory.createLineBorder(Color.black)); //TODO REMOVE BORDER</span>
            <span class="s1">amount.setBounds(</span><span class="s4">390</span><span class="s2">, </span><span
            class="s1">iconType.getY()</span><span class="s2">, </span><span class="s4">150</span><span
            class="s2">, </span><span class="s4">25</span><span class="s1">)</span><span class="s2">;</span>
<span class="s5">//            amount.setAlignmentX(JLabel.RIGHT);</span>
<span class="s5">//            amount.setBorder(BorderFactory.createLineBorder(Color.black));</span>
            <span class="s1">amount.setHorizontalAlignment(JLabel.RIGHT)</span><span class="s2">;</span>
            <span class="s1">date.setBounds(iconType.getX() + iconType.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">iconType.getY() + </span><span
            class="s4">25</span><span class="s2">, </span><span class="s4">180</span><span class="s2">, </span><span
            class="s4">25</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">userFrom.setBounds(date.getX()</span><span class="s2">, </span><span class="s1">iconType.getY() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s4">500</span><span class="s2">, </span><span
            class="s4">25</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">ibanFrom.setBounds(date.getX() + date.getWidth() + </span><span class="s4">20</span><span
            class="s2">, </span><span class="s1">date.getY()</span><span class="s2">, </span><span class="s4">150</span><span
            class="s2">, </span><span class="s4">25</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">userDest.setBounds(userFrom.getBounds())</span><span class="s2">;</span>
            <span class="s1">ibanDest.setBounds(ibanFrom.getBounds())</span><span class="s2">;</span>
            <span class="s1">type.setBounds(userFrom.getBounds())</span><span class="s2">;</span>
<span class="s5">//            ibanFrom.setBounds(date.getX(),type.getY(),150,25);</span>
<span class="s5">//            ibanFrom.setBounds(date.getX(),type.getY(),150,25);</span>

<span class="s5">//            try {</span>
<span class="s5">//                Image icon = ImageIO.read(new File(iconpath));</span>
<span class="s5">//                iconType.setIcon(new ImageIcon(icon.getScaledInstance(iconType.getWidth(), iconType.getHeight(), Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//            } catch (IOException ex) {</span>
<span class="s5">//                ex.printStackTrace();</span>
<span class="s5">//            }</span>

            <span class="s1">setLabelIcon(iconType</span><span class="s2">, </span><span
            class="s1">iconpath)</span><span class="s2">;</span>

<span class="s5">//            type.setEditable(false);</span>
<span class="s5">//            amount.setEditable(false);</span>
<span class="s5">//            date.setEditable(false);</span>

            <span class="s1">amount.setFont(</span><span class="s2">new </span><span class="s1">Font(amount.getFont().getName()</span><span
            class="s2">, </span><span class="s1">Font.BOLD</span><span class="s2">, </span><span
            class="s4">20</span><span class="s1">))</span><span class="s2">;</span>
            <span class="s1">textArea.add(iconType)</span><span class="s2">;</span>
            <span class="s1">textArea.add(amount)</span><span class="s2">;</span>
            <span class="s1">textArea.add(date)</span><span class="s2">;</span>

            <span class="s1">JLabel line = </span><span class="s2">new </span><span class="s1">JLabel()</span><span
            class="s2">;</span>
            <span class="s1">line.setBorder(BorderFactory.createLineBorder(Color.black))</span><span class="s2">;</span>
            <span class="s1">line.setBounds(</span><span class="s4">0</span><span class="s2">, </span><span class="s1">iconType.getY() + iconType.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">width</span><span class="s2">, </span><span
            class="s4">1</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">textArea.add(line)</span><span class="s2">;</span>
        <span class="s1">}</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//            showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

<span class="s5">//        URL iconUrl = this.getClass().getResource(showPswIconPath);</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
<span class="s5">//        Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//        showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

        <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span
            class="s1">showPswIconPath)</span><span class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(refreshIconPath));</span>
<span class="s5">//            refreshBTN.setIcon(new ImageIcon(icon.getScaledInstance(refreshBTN.getWidth(), refreshBTN.getHeight(), Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

<span class="s5">//        iconUrl = this.getClass().getResource(refreshIconPath);</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
<span class="s5">//        icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//        refreshBTN.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>

        <span class="s1">setButtonIcon(refreshBTN</span><span class="s2">, </span><span
            class="s1">refreshIconPath)</span><span class="s2">;</span>

        <span class="s1">incomeFLD.setText(euro.format(session.getIncomes()))</span><span class="s2">;</span>
        <span class="s1">outcomeFLD.setText(euro.format(session.getOutcomes()))</span><span class="s2">;</span>

        <span class="s1">showHideBTN.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

                <span class="s2">if </span><span class="s1">(balanceFLD.getEchoChar() == </span><span
            class="s3">'</span><span class="s2">\u0000</span><span class="s3">'</span><span class="s1">) {</span>
                    <span class="s1">balanceFLD.setEchoChar(</span><span class="s3">'x'</span><span
            class="s1">)</span><span class="s2">; </span><span class="s5">//Dot Echo Char</span>
                    <span class="s1">outcomeFLD.setEchoChar(</span><span class="s3">'x'</span><span
            class="s1">)</span><span class="s2">; </span><span class="s5">//Dot Echo Char</span>
                    <span class="s1">incomeFLD.setEchoChar(</span><span class="s3">'x'</span><span
            class="s1">)</span><span class="s2">; </span><span class="s5">//Dot Echo Char</span>
                    <span class="s1">scrollPane.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

<span class="s5">//                    try {</span>
<span class="s5">//                        Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//                        showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(BTNHeight, BTNHeight, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//                    } catch (IOException ex) {</span>
<span class="s5">//                        ex.printStackTrace();</span>
<span class="s5">//                    }</span>

<span class="s5">//                    URL iconUrl = this.getClass().getResource(hidePswIconPath);</span>
<span class="s5">//                    System.out.println(iconUrl.toString());</span>
<span class="s5">//                    Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//                    showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

                    <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span class="s1">hidePswIconPath)</span><span
            class="s2">;</span>


                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">balanceFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                    <span class="s1">incomeFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                    <span class="s1">outcomeFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                    <span class="s1">scrollPane.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>

<span class="s5">//                    try {</span>
<span class="s5">//                        Image icon = ImageIO.read(new File(showPswIconPath));</span>
<span class="s5">//                        showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(BTNHeight, BTNHeight, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//                    } catch (IOException ex) {</span>
<span class="s5">//                        ex.printStackTrace();</span>
<span class="s5">//                    }</span>

<span class="s5">//                    URL iconUrl = this.getClass().getResource(showPswIconPath);</span>
<span class="s5">//                    System.out.println(iconUrl.toString());</span>
<span class="s5">//                    Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//                    showHideBTN.setIcon(new ImageIcon(icon.getScaledInstance(showHideBTN.getWidth(), showHideBTN.getHeight(), Image.SCALE_SMOOTH)));</span>

                    <span class="s1">setButtonIcon(showHideBTN</span><span class="s2">, </span><span class="s1">showPswIconPath)</span><span
            class="s2">;</span>
                    <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>


                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>


            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">bonificoBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">bonifico()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">refreshBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">removeBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">deleteAccount()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
            <span class="s1">}</span>


        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">depositBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">deposit()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">prelievoBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">prelievo()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Exit BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">changePswBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">changePassword()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>


    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">changePassword() </span><span class="s2">throws </span><span
            class="s1">TimeoutException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>
        <span class="s1">JPanel pswPanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;Change Password - JavaBank&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">add(pswPanel)</span><span class="s2">;</span>

        <span class="s1">JLabel pswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Attuale&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField pswFLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>

        <span class="s1">JLabel newPswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Nuova&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField newPswFLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>

        <span class="s1">JLabel chechNewPswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Conferma&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField checkNewPswFLD = </span><span class="s2">new </span><span class="s1">JPasswordField()</span><span
            class="s2">;</span>

        <span class="s1">JLabel checkpswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Invalid Password&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton showHideBTN1 = </span><span class="s2">new </span><span
            class="s1">JButton()</span><span class="s2">;</span>
        <span class="s1">JButton showHideBTN2 = </span><span class="s2">new </span><span
            class="s1">JButton()</span><span class="s2">;</span>

        <span class="s1">JButton saveBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Save&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton backBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Back&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(saveBTN)</span><span class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//            showHideBTN1.setIcon(new ImageIcon(icon.getScaledInstance(BTNHeight, BTNHeight, Image.SCALE_SMOOTH)));</span>
<span class="s5">//            showHideBTN2.setIcon(new ImageIcon(icon.getScaledInstance(BTNHeight, BTNHeight, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException e) {</span>
<span class="s5">//            e.printStackTrace();</span>
<span class="s5">//        }</span>


        <span class="s1">pswLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">pswFLD.setBounds(pswLBL.getX() + pswLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">pswLBL.getY()</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">newPswLBL.setBounds(pswLBL.getX()</span><span class="s2">, </span><span class="s1">pswLBL.getY() + pswLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">newPswFLD.setBounds(newPswLBL.getX() + newPswLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">newPswLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">chechNewPswLBL.setBounds(pswLBL.getX()</span><span class="s2">, </span><span class="s1">newPswFLD.getY() + newPswFLD.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">checkNewPswFLD.setBounds(chechNewPswLBL.getX() + chechNewPswLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">chechNewPswLBL.getY()</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">showHideBTN1.setBounds(newPswFLD.getX() + newPswFLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">newPswFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">showHideBTN2.setBounds(checkNewPswFLD.getX() + checkNewPswFLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">checkNewPswFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setBounds(showHideBTN1.getX() + showHideBTN1.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">newPswFLD.getY()</span><span
            class="s2">, </span><span class="s4">100</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">checkpswLBL.setForeground(Color.red)</span><span class="s2">;</span>

        <span class="s1">saveBTN.setBounds(pswLBL.getX()</span><span class="s2">, </span><span
            class="s4">150</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">backBTN.setBounds(saveBTN.getX() + saveBTN.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">saveBTN.getY()</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(backBTN.getX() + backBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">backBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s1">setButtonIcon(showHideBTN1</span><span class="s2">, </span><span
            class="s1">hidePswIconPath)</span><span class="s2">;</span>
        <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span
            class="s1">hidePswIconPath)</span><span class="s2">;</span>

        <span class="s1">newPswFLD.addKeyListener(</span><span class="s2">new </span><span
            class="s1">KeyListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyTyped(KeyEvent e) {</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyPressed(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyReleased(KeyEvent e) {</span>
                <span class="s2">if </span><span class="s1">(!String.valueOf(newPswFLD.getPassword()).isEmpty())</span>
                    <span class="s2">try </span><span class="s1">{</span>
                        <span class="s1">Session.checkValidPassword(String.valueOf(newPswFLD.getPassword()))</span><span
            class="s2">;</span>
                        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IllegalArgumentException ex) {</span>
                        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">}</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">showHideBTN1.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>
                <span class="s1">newPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span class="s1">showPswIconPath)</span><span
            class="s2">;</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>
                <span class="s1">newPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u2022</span><span class="s3">'</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//Dot Echo Char</span>
                <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span class="s1">hidePswIconPath)</span><span
            class="s2">;</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">showHideBTN2.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>
                <span class="s1">checkNewPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span class="s1">showPswIconPath)</span><span
            class="s2">;</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>
                <span class="s1">checkNewPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u2022</span><span class="s3">'</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//Dot Echo Char</span>

                <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span class="s1">hidePswIconPath)</span><span
            class="s2">;</span>


            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">saveBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Save BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.changePassword(String.valueOf(pswFLD.getPassword())</span><span
            class="s2">, </span><span class="s1">String.valueOf(newPswFLD.getPassword())</span><span
            class="s2">, </span><span class="s1">String.valueOf(checkNewPswFLD.getPassword()))</span><span
            class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Modifica effettuata correttamente&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                <span class="s1">home()</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(IllegalArgumentException ex) {</span>
                <span class="s1">newPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">checkNewPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(AccountException | NoSuchAlgorithmException ex) {</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AuthenticationException ex) {</span>
                <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">newPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">checkNewPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">backBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Back BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Exit BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>


        <span class="s1">add(pswLBL)</span><span class="s2">;</span>
        <span class="s1">add(pswFLD)</span><span class="s2">;</span>
        <span class="s1">add(newPswLBL)</span><span class="s2">;</span>
        <span class="s1">add(newPswFLD)</span><span class="s2">;</span>
        <span class="s1">add(chechNewPswLBL)</span><span class="s2">;</span>
        <span class="s1">add(checkNewPswFLD)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(backBTN)</span><span class="s2">;</span>
        <span class="s1">add(saveBTN)</span><span class="s2">;</span>
        <span class="s1">add(showHideBTN1)</span><span class="s2">;</span>
        <span class="s1">add(showHideBTN2)</span><span class="s2">;</span>
        <span class="s1">add(checkpswLBL)</span><span class="s2">;</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">deleteAccount() </span><span
            class="s2">throws </span><span class="s1">TimeoutException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>
        <span class="s1">JPanel deletePanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;Delete Account - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(deletePanel)</span><span class="s2">;</span>


        <span class="s1">JLabel pswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Password&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField pswFLD = </span><span class="s2">new </span><span
            class="s1">JPasswordField()</span><span class="s2">;</span>

        <span class="s1">JLabel confirmPswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Confirm&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JPasswordField confirmPswFLD = </span><span class="s2">new </span><span class="s1">JPasswordField()</span><span
            class="s2">;</span>

        <span class="s1">JLabel checkpswLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Incorrect Passwords&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton showHideBTN1 = </span><span class="s2">new </span><span
            class="s1">JButton()</span><span class="s2">;</span>
        <span class="s1">JButton showHideBTN2 = </span><span class="s2">new </span><span
            class="s1">JButton()</span><span class="s2">;</span>

        <span class="s1">JButton deleteBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Delete&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton backBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Back&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(deleteBTN)</span><span class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(hidePswIconPath));</span>
<span class="s5">//            showHideBTN1.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>
<span class="s5">//            showHideBTN2.setIcon(new ImageIcon(icon.getScaledInstance(25, 25, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException e) {</span>
<span class="s5">//            e.printStackTrace();</span>
<span class="s5">//        }</span>
<span class="s5">//</span>


        <span class="s1">pswLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">pswFLD.setBounds(pswLBL.getX() + pswLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">pswLBL.getY()</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">confirmPswLBL.setBounds(pswLBL.getX()</span><span class="s2">, </span><span class="s1">pswFLD.getY() + pswFLD.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">confirmPswFLD.setBounds(confirmPswLBL.getX() + confirmPswLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">confirmPswLBL.getY()</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">showHideBTN1.setBounds(pswFLD.getX() + pswFLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">pswFLD.getY()</span><span class="s2">, </span><span
            class="s1">BTNHeight</span><span class="s2">, </span><span class="s1">BTNHeight)</span><span
            class="s2">;</span>
        <span class="s1">showHideBTN2.setBounds(confirmPswFLD.getX() + confirmPswFLD.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">confirmPswFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">showHideBTN2.setMargin(</span><span class="s2">new </span><span class="s1">Insets(</span><span
            class="s4">0</span><span class="s2">, </span><span class="s4">0</span><span class="s2">, </span><span
            class="s4">0</span><span class="s2">, </span><span class="s4">0</span><span class="s1">))</span><span
            class="s2">;</span>
        <span class="s1">checkpswLBL.setBounds(showHideBTN1.getX() + showHideBTN1.getWidth() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">pswFLD.getY()</span><span class="s2">, </span><span
            class="s4">200</span><span class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">checkpswLBL.setForeground(Color.red)</span><span class="s2">;</span>

        <span class="s1">setButtonIcon(showHideBTN1</span><span class="s2">, </span><span
            class="s1">hidePswIconPath)</span><span class="s2">;</span>
        <span class="s1">setButtonIcon(showHideBTN2</span><span class="s2">, </span><span
            class="s1">hidePswIconPath)</span><span class="s2">;</span>

        <span class="s1">deleteBTN.setBounds(pswLBL.getX()</span><span class="s2">, </span><span class="s1">confirmPswFLD.getY() + confirmPswFLD.getHeight() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">backBTN.setBounds(deleteBTN.getX() + deleteBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">deleteBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(backBTN.getX() + backBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">backBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>

        <span class="s1">add(pswLBL)</span><span class="s2">;</span>
        <span class="s1">add(pswFLD)</span><span class="s2">;</span>
        <span class="s1">add(pswLBL)</span><span class="s2">;</span>
        <span class="s1">add(pswFLD)</span><span class="s2">;</span>
        <span class="s1">add(confirmPswLBL)</span><span class="s2">;</span>
        <span class="s1">add(confirmPswFLD)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(backBTN)</span><span class="s2">;</span>
        <span class="s1">add(deleteBTN)</span><span class="s2">;</span>
<span class="s5">//        add(showHideBTN1);</span>
<span class="s5">//        add(showHideBTN2);</span>
        <span class="s1">add(checkpswLBL)</span><span class="s2">;</span>


<span class="s5">//        pswFLD.addKeyListener(new KeyListener() {</span>
<span class="s5">//            @Override</span>
<span class="s5">//            public void keyTyped(KeyEvent e) {</span>
<span class="s5">//            }</span>
<span class="s5">//</span>
<span class="s5">//            @Override</span>
<span class="s5">//            public void keyPressed(KeyEvent e) {</span>
<span class="s5">//</span>
<span class="s5">//            }</span>
<span class="s5">//</span>
<span class="s5">//            @Override</span>
<span class="s5">//            public void keyReleased(KeyEvent e) {</span>
<span class="s5">//                if (!String.valueOf(pswFLD.getPassword()).isEmpty())</span>
<span class="s5">//                    try {</span>
<span class="s5">//                        session.checkValidPassword(String.valueOf(pswFLD.getPassword()));</span>
<span class="s5">//                        checkpswLBL.setVisible(false);</span>
<span class="s5">//                    } catch (AccountException ex) {</span>
<span class="s5">//                        checkpswLBL.setVisible(true);</span>
<span class="s5">//                    }</span>
<span class="s5">//            }</span>
<span class="s5">//</span>
<span class="s5">//        });</span>

        <span class="s1">confirmPswFLD.addKeyListener(</span><span class="s2">new </span><span class="s1">KeyListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyTyped(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyPressed(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyReleased(KeyEvent e) {</span>
                <span class="s2">if </span><span class="s1">(Arrays.equals(pswFLD.getPassword()</span><span
            class="s2">, </span><span class="s1">confirmPswFLD.getPassword()) || String.valueOf(confirmPswFLD.getPassword()).isEmpty()) {</span>
                    <span class="s1">confirmPswFLD.setForeground(</span><span class="s2">new </span><span class="s1">JPasswordField().getForeground())</span><span
            class="s2">;</span>
                    <span class="s1">confirmPswFLD.setBorder(</span><span class="s2">new </span><span class="s1">JPasswordField().getBorder())</span><span
            class="s2">;</span>
                    <span class="s1">pswFLD.setForeground(</span><span class="s2">new </span><span class="s1">JPasswordField().getForeground())</span><span
            class="s2">;</span>
                    <span class="s1">pswFLD.setBorder(</span><span class="s2">new </span><span class="s1">JPasswordField().getBorder())</span><span
            class="s2">;</span>
                    <span class="s1">checkpswLBL.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">confirmPswFLD.setForeground(Color.red)</span><span class="s2">;</span>
                    <span class="s1">confirmPswFLD.setBorder(BorderFactory.createLineBorder(Color.red))</span><span
            class="s2">;</span>

                    <span class="s2">if </span><span class="s1">(pswFLD.getPassword().length == confirmPswFLD.getPassword().length) {</span>
                        <span class="s1">pswFLD.setForeground(Color.red)</span><span class="s2">;</span>
                        <span class="s1">pswFLD.setBorder(BorderFactory.createLineBorder(Color.red))</span><span
            class="s2">;</span>
                        <span class="s1">checkpswLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">}</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>


        <span class="s1">showHideBTN1.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>
                <span class="s1">pswFLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u0000</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">Image icon = ImageIO.read(</span><span class="s2">new </span><span class="s1">File(showPswIconPath))</span><span
            class="s2">;</span>
                    <span class="s1">showHideBTN1.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(</span><span
            class="s4">25</span><span class="s2">, </span><span class="s4">25</span><span class="s2">, </span><span
            class="s1">Image.SCALE_SMOOTH)))</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException ex) {</span>
                    <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>
                <span class="s1">pswFLD.setEchoChar(</span><span class="s3">'</span><span class="s2">\u2022</span><span
            class="s3">'</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//Dot Echo Char</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">Image icon = ImageIO.read(</span><span class="s2">new </span><span class="s1">File(hidePswIconPath))</span><span
            class="s2">;</span>
                    <span class="s1">showHideBTN1.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(</span><span
            class="s4">25</span><span class="s2">, </span><span class="s4">25</span><span class="s2">, </span><span
            class="s1">Image.SCALE_SMOOTH)))</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException ex) {</span>
                    <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>
        <span class="s1">showHideBTN2.addMouseListener(</span><span class="s2">new </span><span class="s1">MouseListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseClicked(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mousePressed(MouseEvent e) {</span>
                <span class="s1">confirmPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u0000</span><span class="s3">'</span><span class="s1">)</span><span class="s2">;  </span><span
            class="s5">//Password Visibile</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">Image icon = ImageIO.read(</span><span class="s2">new </span><span class="s1">File(showPswIconPath))</span><span
            class="s2">;</span>
                    <span class="s1">showHideBTN2.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(BTNHeight</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span class="s1">Image.SCALE_SMOOTH)))</span><span
            class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException ex) {</span>
                    <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseReleased(MouseEvent e) {</span>
                <span class="s1">confirmPswFLD.setEchoChar(</span><span class="s3">'</span><span
            class="s2">\u2022</span><span class="s3">'</span><span class="s1">)</span><span class="s2">; </span><span
            class="s5">//Dot Echo Char</span>
                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">Image icon = ImageIO.read(</span><span class="s2">new </span><span class="s1">File(hidePswIconPath))</span><span
            class="s2">;</span>
                    <span class="s1">showHideBTN2.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(BTNHeight</span><span
            class="s2">, </span><span class="s1">BTNHeight</span><span class="s2">, </span><span class="s1">Image.SCALE_SMOOTH)))</span><span
            class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(IOException ex) {</span>
                    <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseEntered(MouseEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">mouseExited(MouseEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>


        <span class="s1">deleteBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Save BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">int </span><span
            class="s1">choice = JOptionPane.showConfirmDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Sei sicuro di voler eliminare il tuo account?&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
            <span class="s2">if </span><span class="s1">(choice == </span><span class="s4">0</span><span
            class="s1">) {</span>

                <span class="s2">try </span><span class="s1">{</span>
                    <span class="s1">session.deleteAccount(String.valueOf(pswFLD.getPassword())</span><span
            class="s2">, </span><span class="s1">String.valueOf(confirmPswFLD.getPassword()))</span><span
            class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Account Eliminato&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">loginPage()</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(IllegalArgumentException ex) {</span>
<span class="s5">//                    System.out.println(ex);</span>
                    <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">confirmPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>


                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AuthenticationException ex) {</span>
<span class="s5">//                    System.out.println(ex);</span>
                    <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">pswFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">confirmPswFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
<span class="s5">//                    System.out.println(ex);</span>
                    <span class="s1">sessionExpired()</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
<span class="s5">//                    System.out.println(ex);</span>
                    <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(NoSuchAlgorithmException ex) {</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s1">ex.getMessage())</span><span class="s2">;</span>
                <span class="s1">}</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">backBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Back BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">System.out.println(</span><span class="s3">&quot;Exit BTN pressed&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>


        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">bonifico() </span><span
            class="s2">throws </span><span class="s1">TimeoutException</span><span class="s2">, </span><span class="s1">SQLException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>

<span class="s5">//        JPanel bonificoPanel = new JPanel();</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;Bonifico - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
<span class="s5">//        add(bonificoPanel);</span>

        <span class="s1">JLabel ibanLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;IBAN&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField ibanFLD = </span><span class="s2">new </span><span
            class="s1">JTextField(</span><span class="s4">30</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JLabel amountLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Importo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField amountFLD = </span><span class="s2">new </span><span
            class="s1">JTextField(</span><span class="s4">30</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">JLabel balabceLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Saldo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JLabel balance = </span><span class="s2">new </span><span class="s1">JLabel(euro.format(session.getSaldo()))</span><span
            class="s2">;</span>
        <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setFont(</span><span class="s2">new </span><span class="s1">Font(balance.getFont().getName()</span><span
            class="s2">, </span><span class="s1">Font.BOLD</span><span class="s2">, </span><span
            class="s4">20</span><span class="s1">))</span><span class="s2">;</span>


        <span class="s1">JButton contactsBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Rubrica&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton transferBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Transfer&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton balanceBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JButton homeBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Home&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(transferBTN)</span><span class="s2">;</span>
        <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">}</span>

        <span class="s1">ibanLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span class="s4">20</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">ibanFLD.setBounds(ibanLBL.getX() + ibanLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">ibanLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">amountLBL.setBounds(ibanLBL.getX()</span><span class="s2">, </span><span class="s1">ibanFLD.getY() + ibanFLD.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">amountFLD.setBounds(amountLBL.getX() + amountLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">amountLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>

        <span class="s1">transferBTN.setBounds(ibanLBL.getX()</span><span class="s2">, </span><span class="s1">amountFLD.getY() + amountFLD.getHeight() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">contactsBTN.setBounds(transferBTN.getX() + transferBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">transferBTN.getY()</span><span
            class="s2">, </span><span class="s4">90</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">balanceBTN.setBounds(contactsBTN.getX() + contactsBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">transferBTN.getY()</span><span
            class="s2">, </span><span class="s4">150</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(balanceBTN.getX() + balanceBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">transferBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">homeBTN.setBounds(logoutBTN.getX()</span><span class="s2">, </span><span class="s1">ibanLBL.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">balabceLBL.setBounds(ibanFLD.getX() + ibanFLD.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">ibanFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">balance.setBounds(balabceLBL.getX()</span><span class="s2">, </span><span class="s1">balabceLBL.getY() + balabceLBL.getHeight() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s4">300</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>


        <span class="s1">contactsBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">logoutBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">transferBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balanceBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">homeBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">SwingUtilities.invokeLater(amountFLD::requestFocus)</span><span class="s2">;</span>

        <span class="s1">add(amountFLD)</span><span class="s2">;</span>
        <span class="s1">add(amountLBL)</span><span class="s2">;</span>
        <span class="s1">add(ibanLBL)</span><span class="s2">;</span>
        <span class="s1">add(ibanFLD)</span><span class="s2">;</span>
        <span class="s1">add(contactsBTN)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(transferBTN)</span><span class="s2">;</span>
        <span class="s1">add(balabceLBL)</span><span class="s2">;</span>
        <span class="s1">add(balance)</span><span class="s2">;</span>
        <span class="s1">add(balanceBTN)</span><span class="s2">;</span>
        <span class="s1">add(homeBTN)</span><span class="s2">;</span>

        <span class="s5">//Contact table</span>
        <span class="s1">JLabel searchLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Rubrica&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField searchFLD = </span><span class="s2">new </span><span
            class="s1">JTextField()</span><span class="s2">;</span>
        <span class="s1">JButton searchBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Search&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton clearBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Clear&quot;</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">JLabel nomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Nome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField nomeFLD = </span><span class="s2">new </span><span
            class="s1">JTextField()</span><span class="s2">;</span>
        <span class="s1">JLabel cognomeLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Cognome&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField cognomeFLD = </span><span class="s2">new </span><span class="s1">JTextField()</span><span
            class="s2">;</span>
        <span class="s1">JLabel ibanContactLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;IBAN&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField ibanContactFLD = </span><span class="s2">new </span><span
            class="s1">JTextField()</span><span class="s2">;</span>

        <span class="s1">JButton prevBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JButton nextBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JLabel results = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;# of #&quot;</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">nomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">ibanContactFLD.setEditable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">searchLBL.setBounds(ibanLBL.getX()</span><span class="s2">, </span><span class="s1">transferBTN.getY() + transferBTN.getHeight() + </span><span
            class="s4">100</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">searchFLD.setBounds(searchLBL.getX() + searchLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">searchLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">searchBTN.setBounds(searchFLD.getX() + searchFLD.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">searchFLD.getY()</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">clearBTN.setBounds(searchBTN.getX() + searchBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">searchFLD.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">nomeLBL.setBounds(searchLBL.getX()</span><span class="s2">, </span><span class="s1">searchLBL.getY() + searchLBL.getHeight() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">nomeFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">nomeLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">nomeLBL.getY() + nomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">cognomeFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span
            class="s1">nomeFLD.getY() + nomeFLD.getHeight() + </span><span class="s4">5</span><span class="s2">, </span><span
            class="s1">fldWidth</span><span class="s2">, </span><span class="s1">fldHeight)</span><span
            class="s2">;</span>
        <span class="s1">ibanContactLBL.setBounds(nomeLBL.getX()</span><span class="s2">, </span><span class="s1">cognomeLBL.getY() + cognomeLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">ibanContactFLD.setBounds(nomeLBL.getX() + nomeLBL.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span
            class="s1">cognomeFLD.getY() + cognomeFLD.getHeight() + </span><span class="s4">5</span><span
            class="s2">, </span><span class="s1">fldWidth</span><span class="s2">, </span><span
            class="s1">fldHeight)</span><span class="s2">;</span>

        <span class="s1">prevBTN.setBounds(nomeLBL.getX() + </span><span class="s4">80</span><span
            class="s2">, </span><span class="s1">ibanContactFLD.getY() + ibanContactFLD.getHeight() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s4">40</span><span class="s2">, </span><span
            class="s4">40</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">results.setBounds(prevBTN.getX() + prevBTN.getWidth() + </span><span class="s4">5</span><span
            class="s2">, </span><span class="s1">prevBTN.getY() + </span><span class="s4">5</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">results.setHorizontalAlignment(SwingConstants.CENTER)</span><span class="s2">;</span>
        <span class="s1">nextBTN.setBounds(results.getX() + results.getWidth() + </span><span class="s4">5</span><span
            class="s2">, </span><span class="s1">ibanContactFLD.getY() + ibanContactFLD.getHeight() + </span><span
            class="s4">20</span><span class="s2">, </span><span class="s4">40</span><span class="s2">, </span><span
            class="s4">40</span><span class="s1">)</span><span class="s2">;</span>


        <span class="s1">add(searchLBL)</span><span class="s2">;</span>
        <span class="s1">add(searchFLD)</span><span class="s2">;</span>
        <span class="s1">add(searchBTN)</span><span class="s2">;</span>
        <span class="s1">add(clearBTN)</span><span class="s2">;</span>
        <span class="s1">add(nomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(nomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(cognomeLBL)</span><span class="s2">;</span>
        <span class="s1">add(cognomeFLD)</span><span class="s2">;</span>
        <span class="s1">add(ibanContactLBL)</span><span class="s2">;</span>
        <span class="s1">add(ibanContactFLD)</span><span class="s2">;</span>
        <span class="s1">add(prevBTN)</span><span class="s2">;</span>
        <span class="s1">add(nextBTN)</span><span class="s2">;</span>
        <span class="s1">add(results)</span><span class="s2">;</span>

        <span class="s1">searchBTN.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">searchFLD.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">searchLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">clearBTN.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nomeLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nomeFLD.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeFLD.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">ibanContactLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">ibanContactFLD.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">prevBTN.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">results.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nextBTN.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">searchBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">searchFLD.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">searchLBL.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">clearBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nomeLBL.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nomeFLD.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeLBL.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">cognomeFLD.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">ibanContactLBL.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">prevBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">results.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">nextBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(nextIconPath));</span>
<span class="s5">//            nextBTN.setIcon(new ImageIcon(icon.getScaledInstance(nextBTN.getWidth() - 5, nextBTN.getHeight() - 5, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>
<span class="s5">//</span>
<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(prevIconPath));</span>
<span class="s5">//            prevBTN.setIcon(new ImageIcon(icon.getScaledInstance(prevBTN.getWidth() - 5, prevBTN.getHeight() - 5, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

<span class="s5">//        URL iconUrl = this.getClass().getResource(nextIconPath);</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
<span class="s5">//        Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//        nextBTN.setIcon(new ImageIcon(icon.getScaledInstance(nextBTN.getWidth() - 5, nextBTN.getHeight() - 5, Image.SCALE_SMOOTH)));</span>

        <span class="s1">setButtonIcon(nextBTN</span><span class="s2">, </span><span
            class="s1">nextIconPath)</span><span class="s2">;</span>
        <span class="s1">setButtonIcon(prevBTN</span><span class="s2">, </span><span
            class="s1">prevIconPath)</span><span class="s2">;</span>


<span class="s5">//        iconUrl = this.getClass().getResource(prevIconPath);</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
<span class="s5">//        icon = Toolkit.getDefaultToolkit().getImage(iconUrl);</span>
<span class="s5">//        prevBTN.setIcon(new ImageIcon(icon.getScaledInstance(prevBTN.getWidth() - 5, prevBTN.getHeight() - 5, Image.SCALE_SMOOTH)));</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">var contacts = </span><span class="s2">new </span><span class="s1">Object() {</span>
            <span class="s2">int </span><span class="s1">index = </span><span class="s4">0</span><span
            class="s2">;</span>
            <span class="s1">ArrayList&lt;Account&gt; list</span><span class="s2">;</span>
        <span class="s1">}</span><span class="s2">;</span>

        <span class="s1">contactsBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">contacts.list = session.showContacts()</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">}</span>

            <span class="s2">boolean </span><span class="s1">flag = !nomeFLD.isVisible()</span><span class="s2">;</span>

            <span class="s1">searchBTN.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">searchFLD.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">searchLBL.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">clearBTN.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">nomeLBL.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">nomeFLD.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">cognomeLBL.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">cognomeFLD.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">ibanContactLBL.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">ibanContactFLD.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">prevBTN.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">results.setVisible(flag)</span><span class="s2">;</span>
            <span class="s1">nextBTN.setVisible(flag)</span><span class="s2">;</span>

            <span class="s1">searchFLD.setFocusable(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>

            <span class="s1">nomeFLD.setText(contacts.list.get(contacts.index).getNome())</span><span
            class="s2">;</span>
            <span class="s1">cognomeFLD.setText(contacts.list.get(contacts.index).getCognome())</span><span
            class="s2">;</span>
            <span class="s1">ibanContactFLD.setText(contacts.list.get(contacts.index).getIban())</span><span class="s2">;</span>
            <span class="s1">ibanFLD.setText(flag ? ibanContactFLD.getText() : </span><span
            class="s3">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s1">results.setText(contacts.index + </span><span class="s4">1 </span><span
            class="s1">+ </span><span class="s3">&quot; of &quot; </span><span class="s1">+ contacts.list.size())</span><span
            class="s2">;</span>

            <span class="s1">repaint()</span><span class="s2">;</span>


        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">searchFLD.addFocusListener(</span><span class="s2">new </span><span class="s1">FocusListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">focusGained(FocusEvent e) {</span>
                <span class="s1">getRootPane().setDefaultButton(searchBTN)</span><span class="s2">;</span>
            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">focusLost(FocusEvent e) {</span>
                <span class="s1">getRootPane().setDefaultButton(transferBTN)</span><span class="s2">;</span>
            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">searchFLD.addKeyListener(</span><span class="s2">new </span><span
            class="s1">KeyListener() {</span>
            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyTyped(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyPressed(KeyEvent e) {</span>

            <span class="s1">}</span>

            <span class="s1">@Override</span>
            <span class="s2">public void </span><span class="s1">keyReleased(KeyEvent e) {</span>

            <span class="s1">}</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">prevBTN.addActionListener((ActionEvent e1) -&gt; {</span>
            <span class="s2">if </span><span class="s1">(contacts.index &gt; </span><span class="s4">0</span><span
            class="s1">) contacts.index--</span><span class="s2">;</span>
            <span class="s1">results.setText(contacts.index + </span><span class="s4">1 </span><span
            class="s1">+ </span><span class="s3">&quot; of &quot; </span><span class="s1">+ contacts.list.size())</span><span
            class="s2">;</span>

            <span class="s1">nomeFLD.setText(contacts.list.get(contacts.index).getNome())</span><span
            class="s2">;</span>
            <span class="s1">cognomeFLD.setText(contacts.list.get(contacts.index).getCognome())</span><span
            class="s2">;</span>
            <span class="s1">ibanContactFLD.setText(contacts.list.get(contacts.index).getIban())</span><span class="s2">;</span>
            <span class="s1">ibanFLD.setText(ibanContactFLD.getText())</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">nextBTN.addActionListener((ActionEvent e1) -&gt; {</span>
            <span class="s2">if </span><span class="s1">(contacts.index &lt; contacts.list.size() - </span><span
            class="s4">1</span><span class="s1">) contacts.index++</span><span class="s2">;</span>
            <span class="s1">results.setText(contacts.index + </span><span class="s4">1 </span><span
            class="s1">+ </span><span class="s3">&quot; of &quot; </span><span class="s1">+ contacts.list.size())</span><span
            class="s2">;</span>

            <span class="s1">nomeFLD.setText(contacts.list.get(contacts.index).getNome())</span><span
            class="s2">;</span>
            <span class="s1">cognomeFLD.setText(contacts.list.get(contacts.index).getCognome())</span><span
            class="s2">;</span>
            <span class="s1">ibanContactFLD.setText(contacts.list.get(contacts.index).getIban())</span><span class="s2">;</span>
            <span class="s1">ibanFLD.setText(ibanContactFLD.getText())</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">searchBTN.addActionListener((ActionEvent e) -&gt; {          </span><span
            class="s5">//FUNZIONA</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">contacts.list = session.showContacts()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

            <span class="s1">String[] words = searchFLD.getText().split(</span><span
            class="s3">&quot; &quot;</span><span class="s1">)</span><span class="s2">;</span>
            <span class="s2">for </span><span class="s1">(</span><span class="s2">int </span><span
            class="s1">i = </span><span class="s4">0</span><span class="s2">; </span><span class="s1">i &lt; contacts.list.size()</span><span
            class="s2">; </span><span class="s1">i++) {</span>
                <span class="s2">for </span><span class="s1">(String word : words) {</span>
                    <span class="s2">if </span><span class="s1">(!contacts.list.get(i).getUsername().toLowerCase().contains(word.toLowerCase())) {</span>
                        <span class="s1">contacts.list.remove(i)</span><span class="s2">;</span>
                        <span class="s1">i--</span><span class="s2">;</span>
                        <span class="s2">break;</span>
                    <span class="s1">}</span>
                <span class="s1">}</span>
            <span class="s1">}</span>

            <span class="s1">contacts.index = </span><span class="s4">0</span><span class="s2">;</span>
            <span class="s2">if </span><span class="s1">(contacts.list.isEmpty()) {</span>
                <span class="s1">results.setText(</span><span class="s3">&quot;No Result&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">nomeFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">cognomeFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                <span class="s1">ibanContactFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">ibanFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                <span class="s1">results.setText(contacts.index + </span><span class="s4">1 </span><span
            class="s1">+ </span><span class="s3">&quot; of &quot; </span><span class="s1">+ contacts.list.size())</span><span
            class="s2">;</span>
                <span class="s1">nomeFLD.setText(contacts.list.get(contacts.index).getNome())</span><span
            class="s2">;</span>
                <span class="s1">cognomeFLD.setText(contacts.list.get(contacts.index).getCognome())</span><span
            class="s2">;</span>
                <span class="s1">ibanContactFLD.setText(contacts.list.get(contacts.index).getIban())</span><span
            class="s2">;</span>
                <span class="s1">ibanFLD.setText(ibanContactFLD.getText())</span><span class="s2">;</span>
            <span class="s1">}</span>


        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">clearBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s1">searchFLD.setText(</span><span class="s3">&quot;&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
<span class="s5">//            searchBTN.doClick();</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">balanceBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
<span class="s5">//                session.accountBalanceUpdate();</span>
                <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span class="s2">;</span>

                <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>
                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">transferBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">Double amount</span><span class="s2">;</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
                <span class="s2">if </span><span class="s1">(amountFLD.getText().isEmpty())</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Amount field can't be empty&quot;</span><span class="s1">)</span><span
            class="s2">;</span>

                <span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">amount = session.validateAmount(amountFLD.getText())</span><span
            class="s2">;</span>
<span class="s5">//                    amount = Double.parseDouble(amountFLD.getText());</span>
                    <span class="s2">if </span><span class="s1">(ibanFLD.getText().isEmpty()) {</span>
                        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Iban field can't be empty&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                        <span class="s1">session.transfer(ibanFLD.getText().toUpperCase()</span><span
            class="s2">, </span><span class="s1">amount)</span><span class="s2">;</span>
                        <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                        <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span
            class="s2">;</span>

                        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Bonifico Effettuato Correttamente&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">}</span>

                <span class="s1">}</span>


            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(NumberFormatException ex) {</span>
                <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Amount can be only numeric&quot;</span><span class="s1">)</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(IllegalArgumentException ex) {</span>
                <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(AccountNotFoundException ex) {</span>
                <span class="s1">ibanFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">homeBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
<span class="s5">//                session.updateSessionCreation();</span>
<span class="s5">//                session.accountBalanceUpdate();</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
<span class="s5">//            System.out.println(&quot;Logout BTN pressed&quot;);</span>

            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>


    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">deposit() </span><span
            class="s2">throws </span><span class="s1">TimeoutException</span><span class="s2">, </span><span class="s1">SQLException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>

        <span class="s1">JPanel depositPanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;Deposit - JavaBank&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">add(depositPanel)</span><span class="s2">;</span>

        <span class="s1">JLabel amountLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Importo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField amountFLD = </span><span class="s2">new </span><span
            class="s1">JTextField(</span><span class="s4">30</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">JLabel balabceLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Saldo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JLabel balance = </span><span class="s2">new </span><span class="s1">JLabel(euro.format(session.getSaldo()))</span><span
            class="s2">;</span>
        <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setFont(</span><span class="s2">new </span><span class="s1">Font(balance.getFont().getName()</span><span
            class="s2">, </span><span class="s1">Font.BOLD</span><span class="s2">, </span><span
            class="s4">20</span><span class="s1">))</span><span class="s2">;</span>


<span class="s5">//        JButton contactsBTN = new JButton(&quot;Contacts&quot;);</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton depositBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Deposita&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton balanceBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JButton homeBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Account&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(depositBTN)</span><span class="s2">;</span>

        <span class="s1">amountLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">amountFLD.setBounds(amountLBL.getX() + amountLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">amountLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">balabceLBL.setBounds(amountFLD.getX() + amountFLD.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">amountLBL.getY()</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">balance.setBounds(balabceLBL.getX()</span><span class="s2">, </span><span class="s1">balabceLBL.getY() + balabceLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s4">300</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">depositBTN.setBounds(amountLBL.getX()</span><span class="s2">, </span><span class="s1">balance.getY() + balance.getHeight() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">balanceBTN.setBounds(depositBTN.getX() + depositBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">depositBTN.getY()</span><span
            class="s2">, </span><span class="s4">150</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(balanceBTN.getX() + balanceBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">balanceBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">homeBTN.setBounds(</span><span class="s4">370</span><span class="s2">, </span><span class="s1">amountLBL.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>


        <span class="s1">depositBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balanceBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">logoutBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">homeBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">}</span>

        <span class="s1">SwingUtilities.invokeLater(amountFLD::requestFocus)</span><span class="s2">;</span>


        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
<span class="s5">//            System.out.println(&quot;Logout BTN pressed&quot;);</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">balanceBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
<span class="s5">//                session.accountBalanceUpdate();</span>
                <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span class="s2">;</span>

                <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>

                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>

                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">}</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>


        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">homeBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
<span class="s5">//                session.accountBalanceUpdate();</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">depositBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
<span class="s5">//                Double amount = 0.0;</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
                <span class="s2">if </span><span class="s1">(amountFLD.getText().isEmpty())</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Amount field can't be empty&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                <span class="s2">else </span><span class="s1">{</span>
<span class="s5">//                    amount = ;</span>
                    <span class="s1">session.deposit(session.validateAmount(amountFLD.getText()))</span><span
            class="s2">;</span>
<span class="s5">//                    session.deposit(session.validateAmount(amountFLD.getText()));</span>
                    <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Deposito Effettuato Correttamente&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">}</span>


            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(IllegalArgumentException ex) {</span>
                <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">add(amountFLD)</span><span class="s2">;</span>
        <span class="s1">add(amountLBL)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(depositBTN)</span><span class="s2">;</span>
        <span class="s1">add(balabceLBL)</span><span class="s2">;</span>
        <span class="s1">add(balance)</span><span class="s2">;</span>
        <span class="s1">add(balanceBTN)</span><span class="s2">;</span>
        <span class="s1">add(homeBTN)</span><span class="s2">;</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">prelievo() </span><span
            class="s2">throws </span><span class="s1">TimeoutException</span><span class="s2">, </span><span class="s1">SQLException {</span>
        <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
        <span class="s1">getContentPane().removeAll()</span><span class="s2">;</span>
        <span class="s1">repaint()</span><span class="s2">;</span>

        <span class="s1">JPanel depositPanel = </span><span class="s2">new </span><span class="s1">JPanel()</span><span
            class="s2">;</span>
        <span class="s1">setTitle(</span><span class="s3">&quot;prelievo - JavaBank&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">add(depositPanel)</span><span class="s2">;</span>

        <span class="s1">JLabel amountLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Importo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JTextField amountFLD = </span><span class="s2">new </span><span
            class="s1">JTextField(</span><span class="s4">30</span><span class="s1">)</span><span class="s2">;</span>

        <span class="s1">JLabel balabceLBL = </span><span class="s2">new </span><span class="s1">JLabel(</span><span
            class="s3">&quot;Saldo&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JLabel balance = </span><span class="s2">new </span><span class="s1">JLabel(euro.format(session.getSaldo()))</span><span
            class="s2">;</span>
        <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balance.setFont(</span><span class="s2">new </span><span class="s1">Font(balance.getFont().getName()</span><span
            class="s2">, </span><span class="s1">Font.BOLD</span><span class="s2">, </span><span
            class="s4">20</span><span class="s1">))</span><span class="s2">;</span>

<span class="s5">//      JButton contactsBTN = new JButton(&quot;Contacts&quot;);</span>
        <span class="s1">JButton logoutBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Logout&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton prelievoBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Preleva&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">JButton balanceBTN = </span><span class="s2">new </span><span class="s1">JButton()</span><span
            class="s2">;</span>
        <span class="s1">JButton homeBTN = </span><span class="s2">new </span><span class="s1">JButton(</span><span
            class="s3">&quot;Home&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">getRootPane().setDefaultButton(prelievoBTN)</span><span class="s2">;</span>
        <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
        <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
            <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">}</span>

        <span class="s1">amountLBL.setBounds(</span><span class="s4">10</span><span class="s2">, </span><span
            class="s4">20</span><span class="s2">, </span><span class="s1">lblWidth</span><span
            class="s2">, </span><span class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">amountFLD.setBounds(amountLBL.getX() + amountLBL.getWidth() + </span><span class="s4">10</span><span
            class="s2">, </span><span class="s1">amountLBL.getY()</span><span class="s2">, </span><span class="s1">fldWidth</span><span
            class="s2">, </span><span class="s1">fldHeight)</span><span class="s2">;</span>
        <span class="s1">balabceLBL.setBounds(amountFLD.getX() + amountFLD.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">amountLBL.getY()</span><span
            class="s2">, </span><span class="s1">lblWidth</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">balance.setBounds(balabceLBL.getX()</span><span class="s2">, </span><span class="s1">balabceLBL.getY() + balabceLBL.getHeight() + </span><span
            class="s4">5</span><span class="s2">, </span><span class="s4">300</span><span class="s2">, </span><span
            class="s1">lblHeight)</span><span class="s2">;</span>
        <span class="s1">prelievoBTN.setBounds(amountLBL.getX()</span><span class="s2">, </span><span class="s1">balance.getY() + balance.getHeight() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">BTNWidth</span><span
            class="s2">, </span><span class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">balanceBTN.setBounds(prelievoBTN.getX() + prelievoBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">prelievoBTN.getY()</span><span
            class="s2">, </span><span class="s4">150</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">logoutBTN.setBounds(balanceBTN.getX() + balanceBTN.getWidth() + </span><span
            class="s4">10</span><span class="s2">, </span><span class="s1">balanceBTN.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>
        <span class="s1">homeBTN.setBounds(</span><span class="s4">370</span><span class="s2">, </span><span class="s1">amountLBL.getY()</span><span
            class="s2">, </span><span class="s1">BTNWidth</span><span class="s2">, </span><span
            class="s1">BTNHeight)</span><span class="s2">;</span>


        <span class="s1">prelievoBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">balanceBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">logoutBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
        <span class="s1">homeBTN.setFocusable(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>

        <span class="s1">SwingUtilities.invokeLater(amountFLD::requestFocus)</span><span class="s2">;</span>

        <span class="s1">prelievoBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
                <span class="s2">if </span><span class="s1">(amountFLD.getText().isEmpty())</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Amount field can't be empty&quot;</span><span class="s1">)</span><span
            class="s2">;</span>
                <span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">session.prelievo(session.validateAmount(amountFLD.getText()))</span><span
            class="s2">;</span>
                    <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span class="s2">;</span>
                    <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span
            class="s2">, </span><span class="s3">&quot;Prelievo Effettuato Correttamente&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">}</span>

            <span class="s1">} </span><span class="s2">catch </span><span
            class="s1">(IllegalArgumentException ex) {</span>
                <span class="s1">amountFLD.setText(</span><span class="s3">&quot;&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">ex.getMessage())</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">logoutBTN.addActionListener((ActionEvent e) -&gt; {</span>
<span class="s5">//            System.out.println(&quot;Logout BTN pressed&quot;);</span>
            <span class="s1">loginPage()</span><span class="s2">;</span>
        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">balanceBTN.addActionListener((ActionEvent e) -&gt; {</span>

            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
<span class="s5">//                session.accountBalanceUpdate();</span>
                <span class="s1">balance.setText(euro.format(session.getSaldo()))</span><span class="s2">;</span>

                <span class="s2">if </span><span class="s1">(balance.isVisible()) {</span>
                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Mostra Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">false</span><span class="s1">)</span><span
            class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">false</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">} </span><span class="s2">else </span><span class="s1">{</span>
                    <span class="s1">balanceBTN.setText(</span><span class="s3">&quot;Nascondi Saldo&quot;</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balabceLBL.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>
                    <span class="s1">balance.setVisible(</span><span class="s2">true</span><span
            class="s1">)</span><span class="s2">;</span>

                <span class="s1">}</span>

            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>


        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">homeBTN.addActionListener((ActionEvent e) -&gt; {</span>
            <span class="s2">try </span><span class="s1">{</span>
                <span class="s1">session.updateSessionCreation()</span><span class="s2">;</span>
                <span class="s1">home()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(TimeoutException ex) {</span>
                <span class="s1">sessionExpired()</span><span class="s2">;</span>
            <span class="s1">} </span><span class="s2">catch </span><span class="s1">(SQLException ex) {</span>
                <span class="s1">SQLExceptionOccurred(ex)</span><span class="s2">;</span>
            <span class="s1">}</span>

        <span class="s1">})</span><span class="s2">;</span>

        <span class="s1">add(amountFLD)</span><span class="s2">;</span>
        <span class="s1">add(amountLBL)</span><span class="s2">;</span>
        <span class="s1">add(logoutBTN)</span><span class="s2">;</span>
        <span class="s1">add(prelievoBTN)</span><span class="s2">;</span>
        <span class="s1">add(balabceLBL)</span><span class="s2">;</span>
        <span class="s1">add(balance)</span><span class="s2">;</span>
        <span class="s1">add(balanceBTN)</span><span class="s2">;</span>
        <span class="s1">add(homeBTN)</span><span class="s2">;</span>

        <span class="s1">setVisible(</span><span class="s2">true</span><span class="s1">)</span><span
            class="s2">;</span>
    <span class="s1">}</span>

<hr class="ls0">    <span class="s5">//Functions</span>
    <span class="s2">private void </span><span class="s1">sessionExpired() {</span>
        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s3">&quot;Sessione Scaduta&quot;</span><span class="s1">)</span><span class="s2">;</span>
        <span class="s1">loginPage()</span><span class="s2">;</span>
    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">private void </span><span class="s1">SQLExceptionOccurred(SQLException ex) {</span>
        <span class="s1">String error = </span><span class="s3">&quot;SQL Error</span><span class="s2">\n</span><span
            class="s3">&quot; </span><span class="s1">+</span>
                <span class="s3">&quot;SQL State : &quot; </span><span class="s1">+ ex.getSQLState() +</span>
                <span class="s3">&quot;ErrorCode : &quot; </span><span class="s1">+ ex.getErrorCode() +</span>
                <span class="s1">ex.getMessage()</span><span class="s2">;</span>
        <span class="s1">ex.printStackTrace()</span><span class="s2">;</span>
<span class="s5">//        System.out.println(ex);</span>
        <span class="s1">JOptionPane.showInternalMessageDialog(getContentPane()</span><span class="s2">, </span><span
            class="s1">error)</span><span class="s2">;</span>
        <span class="s1">loginPage()</span><span class="s2">;</span>
    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">public void </span><span class="s1">setButtonIcon(JButton button</span><span
            class="s2">, </span><span class="s1">String iconPath) {</span>

        <span class="s1">URL iconUrl = </span><span class="s2">this</span><span class="s1">.getClass().getResource(iconPath)</span><span
            class="s2">;</span>
<span class="s5">//        System.out.println(iconUrl.toString());</span>
        <span class="s1">Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl)</span><span class="s2">;</span>
        <span class="s1">button.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(button.getWidth()</span><span
            class="s2">, </span><span class="s1">button.getHeight()</span><span class="s2">, </span><span class="s1">Image.SCALE_SMOOTH)))</span><span
            class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(iconPath));</span>
<span class="s5">//            button.setIcon(new ImageIcon(icon.getScaledInstance(button.getWidth() - 5, button.getHeight() - 5, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

    <span class="s1">}</span>
<hr class="ls0">    <span class="s2">public void </span><span class="s1">setLabelIcon(JLabel label</span><span
            class="s2">, </span><span class="s1">String iconPath) {</span>

        <span class="s1">URL iconUrl = </span><span class="s2">this</span><span class="s1">.getClass().getResource(iconPath)</span><span
            class="s2">;</span>
        <span class="s1">Image icon = Toolkit.getDefaultToolkit().getImage(iconUrl)</span><span class="s2">;</span>
        <span class="s1">label.setIcon(</span><span class="s2">new </span><span class="s1">ImageIcon(icon.getScaledInstance(label.getWidth()</span><span
            class="s2">, </span><span class="s1">label.getHeight()</span><span class="s2">, </span><span class="s1">Image.SCALE_SMOOTH)))</span><span
            class="s2">;</span>

<span class="s5">//        try {</span>
<span class="s5">//            Image icon = ImageIO.read(new File(iconPath));</span>
<span class="s5">//            button.setIcon(new ImageIcon(icon.getScaledInstance(button.getWidth() - 5, button.getHeight() - 5, Image.SCALE_SMOOTH)));</span>
<span class="s5">//</span>
<span class="s5">//        } catch (IOException ex) {</span>
<span class="s5">//            ex.printStackTrace();</span>
<span class="s5">//        }</span>

    <span class="s1">}</span>

<span class="s1">}</span>
</pre>
</body>
</html>